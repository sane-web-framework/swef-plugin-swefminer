<?php

$options        = array (
    ''          => 'SwefMiner options:'
   ,'inspect'   => 'Inspect plugin properties'
);
$option         = $this->page->_GET (SWEF_GET_OPTION);
if (!array_key_exists($option,$options)) {
    $option     = SWEF_STR__EMPTY;
}

?>
<div id="swefminer-dash" class="plugin plugin-dash">

  <h2>Dashboard for SwefMiner</h2>

  <form class="options" method="get" action="">
    <input type="hidden" name="<?php echo htmlentities (SWEF_GET_CLASSNAME); ?>" value="\Swef\SwefMiner" />
<?php $this->page->pull ('global.form.select.auto_submit',SWEF_GET_OPTION,$option,'options',$options); ?>
  </form>

<?php if($option=='inspect'): ?>

  <pre>
<?php     print_r ($this->properties); ?>

  </pre>
<?php endif; ?>

</div>
<!--

if (array_key_exists($option,$this->tables)) {
    print_r ($this->select($this->columnsDisplay($option)));
    print_r ($this->joins);
}


                $joins      = array ();
                $order_by   = array ();
                foreach ($c[swefminer_col_indexes] AS $idx) {
                    array_push ($order_by,$idx[swefminer_col_table].SWEF_STR__DOT.$idx[swefminer_col_column]);
                    $join   = $idx[swefminer_col_table].SWEF_STR__DOT.$idx[swefminer_col_column];
                    $join  .= SWEF_STR__EQUALS;
                    $join  .= $idx[swefminer_col_table].SWEF_STR__DOT.$idx[swefminer_col_column];
                    array_push ($joins,$join);
                }
-->
